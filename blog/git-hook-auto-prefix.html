<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><title>Automatically prefix commit message with Git hook</title><meta name="robots" content="follow, index"/><meta name="description" content="In order to find all the commits relating to a specific JIRA issue as well as find the issue relating to a specific commit quickly, my team applies a common pattern for all commit message in our projects: `[ISSUE] MESSAGE`"/><meta property="og:url" content="https://fossil-engineering.github.io/blog/git-hook-auto-prefix"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Fossil Engineering"/><meta property="og:description" content="In order to find all the commits relating to a specific JIRA issue as well as find the issue relating to a specific commit quickly, my team applies a common pattern for all commit message in our projects: `[ISSUE] MESSAGE`"/><meta property="og:title" content="Automatically prefix commit message with Git hook"/><meta property="og:image" content="https://fossil-engineering.github.io/static/img/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content=""/><meta name="twitter:title" content="Automatically prefix commit message with Git hook"/><meta name="twitter:description" content="In order to find all the commits relating to a specific JIRA issue as well as find the issue relating to a specific commit quickly, my team applies a common pattern for all commit message in our projects: `[ISSUE] MESSAGE`"/><meta name="twitter:image" content="https://fossil-engineering.github.io/static/img/twitter-card.png"/><meta property="article:published_time" content="2019-03-09T00:00:00.000Z"/><link rel="canonical" href="https://fossil-engineering.github.io/blog/git-hook-auto-prefix"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://fossil-engineering.github.io/blog/git-hook-auto-prefix"
  },
  "headline": "Automatically prefix commit message with Git hook",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://fossil-engineering.github.io/static/img/twitter-card.png"
    }
  ],
  "datePublished": "2019-03-09T00:00:00.000Z",
  "dateModified": "2019-03-09T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Cat Vu"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "",
    "logo": {
      "@type": "ImageObject",
      "url": "https://fossil-engineering.github.ioundefined"
    }
  },
  "description": "In order to find all the commits relating to a specific JIRA issue as well as find the issue relating to a specific commit quickly, my team applies a common pattern for all commit message in our projects: `[ISSUE] MESSAGE`"
}</script><meta name="next-head-count" content="19"/><link rel="apple-touch-icon" sizes="180x180" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#2b5797"/><meta name="theme-color" content="#ffffff"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="preconnect" href="https://rsms.me" crossorigin="anonymous"/><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/f370531b7073626a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f370531b7073626a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ac8892dbacacc40f.js" defer=""></script><script src="/_next/static/chunks/framework-109a728694328ca8.js" defer=""></script><script src="/_next/static/chunks/main-963264b056cee698.js" defer=""></script><script src="/_next/static/chunks/pages/_app-33f3255677f3c86d.js" defer=""></script><script src="/_next/static/chunks/459-6dc512909c4bb933.js" defer=""></script><script src="/_next/static/chunks/410-28e8636dde5f4fea.js" defer=""></script><script src="/_next/static/chunks/620-4ffca7d07d13ee0d.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-0a1bff3ee9d6b739.js" defer=""></script><script src="/_next/static/JU1Se-k0URfza3KMMD2ug/_buildManifest.js" defer=""></script><script src="/_next/static/JU1Se-k0URfza3KMMD2ug/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="antialiased text-black bg-white dark:bg-gray-900 dark:text-white"><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex flex-col justify-between h-screen"><header class="flex items-center justify-between py-10"><div><a aria-label="Fossil Engineering" href="/"><div class="flex items-center justify-between"><div class="mr-3 logo"><svg xmlns="http://www.w3.org/2000/svg" width="132.393" height="25.507" xml:space="preserve"><path d="M89.751 10.925c-4.768-1.529-6.842-2.877-6.486-5.096.342-2.201 2.729-2.07 5.047-1.89 2.291.192 4.158.701 5.52 1.148.025.018.105-.004.121-.082.121-.806.559-2.943.678-3.675.018-.091-.068-.136-.113-.147C91.729.428 89.182-.052 86.137.004c-5.703.099-8.354 2.396-8.678 7.192-.191 2.799 1.748 5.893 5.777 7.227 4.029 1.334 6.904 2.087 6.486 4.57-.369 2.104-2.85 2.342-5.539 2.187-2.355-.144-4.348-.705-5.834-1.156-.107-.032-.172.021-.197.119-.111.864-.424 3.071-.531 3.849-.004.104.084.188.129.198 1.859.445 5.15 1.07 9.197 1.07 5.473 0 8.312-2.347 8.631-6.841.247-3.487-1.395-6.067-5.827-7.494zM65.068 10.925c-4.771-1.529-6.839-2.877-6.485-5.096.344-2.201 2.729-2.07 5.04-1.89 2.292.192 4.16.701 5.517 1.148.039.018.096-.004.113-.082.139-.806.566-2.943.691-3.675a.139.139 0 0 0-.111-.147C67.04.428 64.494-.052 61.454.004 55.75.103 53.101 2.4 52.766 7.196c-.188 2.8 1.753 5.896 5.774 7.23 4.024 1.334 6.898 2.086 6.494 4.567-.367 2.105-2.846 2.342-5.539 2.188-2.366-.142-4.346-.707-5.842-1.156-.096-.032-.168.021-.188.117-.11.867-.425 3.073-.53 3.853-.003.102.075.188.124.196a40.142 40.142 0 0 0 9.191 1.07c5.478 0 8.31-2.347 8.632-6.843.256-3.486-1.387-6.066-5.814-7.493zM17.998.555H1.468a.157.157 0 0 0-.162.155v23.971c0 .088.064.16.162.16H6.96a.156.156 0 0 0 .155-.16V15.71c0-.082.072-.16.162-.16h9.525c.092 0 .164-.064.164-.15v-3.708a.165.165 0 0 0-.164-.165H7.277a.16.16 0 0 1-.162-.162V4.74c0-.085.072-.16.162-.16h10.861a.154.154 0 0 0 .156-.157L18.168.711c-.012-.08-.09-.156-.17-.156zM109.023.537h-5.666c-.1 0-.16.068-.16.156v23.991c0 .084.061.149.16.149h5.666c.09 0 .154-.065.154-.149V.693a.152.152 0 0 0-.154-.156zM133.536 20.742h-9.395a.16.16 0 0 1-.158-.156L123.981.732c0-.099-.066-.161-.16-.161h-5.658a.157.157 0 0 0-.162.161v23.951c0 .084.076.147.162.147h15.186c.088 0 .164-.063.168-.147l.182-3.772c-.002-.098-.065-.169-.163-.169zM35.363.026c-7.436 0-11.493 4.878-11.493 12.743 0 7.857 4.059 12.738 11.493 12.738 7.433 0 11.487-4.881 11.487-12.738C46.85 4.787 42.901.026 35.363.026zm0 21.462c-5.05 0-5.749-4.193-5.749-8.719 0-4.52.699-8.714 5.749-8.714 5.044 0 5.738 4.192 5.738 8.714 0 4.525-.694 8.719-5.738 8.719z"></path></svg></div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="w-8 h-8 p-1 ml-1 mr-1 rounded sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="w-8 h-8 py-1 ml-1 mr-1 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed w-full h-full top-24 right-0 bg-gray-200 dark:bg-gray-800 opacity-95 z-10 transform ease-in-out duration-300 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed w-full h-full cursor-auto focus:outline-none"></button><nav class="fixed h-full mt-8"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-5xl xl:px-0"><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2019-03-09T00:00:00.000Z">Saturday, March 9, 2019</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Automatically prefix commit message with Git hook</h1></div></div></header><div class="pb-8 divide-y divide-gray-200 xl:divide-y-0 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 xl:block sm:space-x-12 xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2738%27%20height=%2738%27/%3e"/></span><img alt="avatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="w-10 h-10 rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="avatar" srcSet="static/fossil.png?imwidth=48 1x, static/fossil.png?imwidth=96 2x" src="static/fossil.png?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="w-10 h-10 rounded-full" loading="lazy"/></noscript></span><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100"><a href="/author/cat">Cat Vu</a></dd><dt class="sr-only">Twitter</dt><dd><a target="_blank" rel="noopener noreferrer" href="https://github.com/" class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400">@</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:pb-0 xl:col-span-3 xl:row-span-2"><div class="pt-10 pb-8 prose dark:prose-dark max-w-none"><h2>Problem</h2>
<p>In order to find all the commits relating to a specific JIRA issue as well as find the issue relating to a specific commit quickly, my team applies a common pattern for all commit message in our projects: <code>[ISSUE] MESSAGE</code></p>
<p>For example, <code>git commit -m &quot;[ISSUE-123] Fix something&quot;</code></p>
<p>After a while using this convention, I think it’s a bit inconvenient and silly for us to remember and type the same issue id whenever we commit a change to the code base.</p>
<p>So my expectation is: After I commit a change, Git will trigger a hook that automatically prepends my message with the related issue id.</p>
<p>Thankfully, I figured out we can easily achieve this with a Git hook.</p>
<h2>Quick start</h2>
<p>From the current project, switch to a new branch (e.g. <code>feature/demo</code>) and create a file named <code>prepare-commit-msg</code> under <code>&lt;project&gt;/.git/hooks</code> with following content</p>
<div class="relative"><pre><code># project/.git/hooks/prepare-commit-msg:

#!/bin/bash
[[ ! -f .git/jira ]] &amp;&amp; touch .git/jira
BRANCH=$(git rev-parse --abbrev-ref HEAD)
ISSUE=$(cat .git/jira | grep -E &quot;^$BRANCH &quot; | awk &#x27;{print $2}&#x27;)
[[ &quot;$ISSUE&quot; != &quot;&quot; ]] &amp;&amp; sed -i.bak -e &quot;1s/^/[$ISSUE] /&quot; $1 || true
</code></pre></div>
<p>Make it executable</p>
<div class="relative"><pre><code>chmod +x .git/hooks/prepare-commit-msg
</code></pre></div>
<p>Now, when we commit a change, e.g. <code>git commit -m &quot;Fix something&quot;</code>, the above script will be triggered and do the following steps:</p>
<ol>
<li>Get the name of the current branch: <code>feature/demo</code></li>
<li>Derive the issue id from the branch name: e.g. <code>ISSUE-123</code></li>
<li>Prepend the commit message with the issue id: =&gt; <code>[ISSUE-123] Fix something</code></li>
</ol>
<p>Create <code>.git/jira</code> file to store issue ids along with corresponding branches</p>
<div class="relative"><pre><code>touch .git/jira
</code></pre></div>
<p>Now we can test the hook.</p>
<div class="relative"><pre><code>echo &quot;feature/demo ISSUE-123&quot; &gt; .git/jira
git commit -m &quot;Test&quot; --allow-empty
# the message is now prepended with the issue id
# [ISSUE-123] Test
</code></pre></div>
<h2>Globalize the hook</h2>
<p>If you have many projects and you don’t want to create prepare-commit-msg file over and over again for each project, you can make it become a global hook. [Matt Venables](Matt Venables) wrote a great post about this. Please check it out at https://coderwall.com/p/jp7d5q/create-a-global-git-commit-hook</p>
<h2>Alias mapping steps</h2>
<p>As you can see even the hook becomes global, we still have to do the last step manually to map the issue id to the working branch. We can improve this by wrapping all the steps inside a single function and alias it so that we just need to call something like <code>jira ISSUE-123</code> to set up everything.</p>
<p>Open <code>~/.bashrc</code> file and add the following code:</p>
<div class="relative"><pre><code>map_jira_id () {
  [ ! -d .git ] &amp;&amp; return 1
  [ ! -f .git/jira ] &amp;&amp; touch .git/jira
  BRANCH=$(git rev-parse --abbrev-ref HEAD)
  MATCH=$(echo &quot;$BRANCH&quot; | sed &#x27;s/\//\\\//g&#x27;)
  ISSUES=$(sed &quot;/^$MATCH /d&quot; .git/jira)
  ISSUES=&quot;$BRANCH $1\n$ISSUES&quot;
  echo &quot;$ISSUES&quot; &gt; .git/jira
}
alias jira=&quot;map_jira_id&quot;
</code></pre></div>
<p>Save it and source <code>~/.bashrc</code> to apply the change</p>
<h2>Test</h2>
<p>Now that we have created a global hook and a function alias. It’s time to test on another project.</p>
<p>From the project folder, populate hook templates (according to Matt’s post)</p>
<div class="relative"><pre><code>git init
</code></pre></div>
<p>Test if the hook work properly</p>
<div class="relative"><pre><code>/project2(master)$ git checkout feature/foo
/project2(feature/foo)$ jira ABC-123
/project2(feature/foo)$ git commit -m &quot;Test&quot; --allow-empty
# [ABC-123] Test
/project2(feature/foo)$ git checkout feature/bar
/project2(feature/bar)$ jira ABC-456
/project2(feature/bar)$ git commit -m &quot;Test&quot; --allow-empty
# [ABC-456] Test
</code></pre></div>
<p>Hope this helps!</p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="nofollow" href="https://mobile.twitter.com/search?q=https%3A%2F%2Ffossil-engineering.github.io%2Fblog%2Fgit-hook-auto-prefix">Discuss on Twitter</a> • <a target="_blank" rel="noopener noreferrer" href="https://github.com/fossil-engineering/fossil-engineering.github.io/blob/master/data/blog/2019-03-09-git-hook-auto-prefix.md">View on GitHub</a></div></div><footer><div class="text-sm font-medium leading-5 divide-gray-200 xl:divide-y dark:divide-gray-700 xl:col-start-1 xl:row-start-2"><div class="py-4 xl:py-8"><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/engineering">engineering</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/git">git</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/docker-size">Giảm kích thước Docker image cho ứng dụng Ruby on Rails</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="flex flex-col items-center mt-16"><div class="flex mb-3 space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:people@fossil.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/fossil-engineering"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/company/fossilvietnamcareers/"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div><div class="flex mb-2 space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>© 2022</div><div> • </div><a href="/">Fossil Engineering</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var d=Object.create;var r=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var f=(i,e)=\u003e()=\u003e(e||i((e={exports:{}}).exports,e),e.exports),w=(i,e)=\u003e{for(var n in e)r(i,n,{get:e[n],enumerable:!0})},c=(i,e,n,a)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let o of p(e))!u.call(i,o)\u0026\u0026o!==n\u0026\u0026r(i,o,{get:()=\u003ee[o],enumerable:!(a=m(e,o))||a.enumerable});return i};var j=(i,e,n)=\u003e(n=i!=null?d(g(i)):{},c(e||!i||!i.__esModule?r(n,\"default\",{value:i,enumerable:!0}):n,i)),S=i=\u003ec(r({},\"__esModule\",{value:!0}),i);var l=f((E,h)=\u003e{h.exports=_jsx_runtime});var I={};w(I,{default:()=\u003ey,frontmatter:()=\u003eb});var t=j(l()),b={title:\"Automatically prefix commit message with Git hook\",authors:[\"cat\"],date:\"2019-03-09\",tags:[\"engineering\",\"git\"],summary:\"In order to find all the commits relating to a specific JIRA issue as well as find the issue relating to a specific commit quickly, my team applies a common pattern for all commit message in our projects: `[ISSUE] MESSAGE`\"};function s(i){let e=Object.assign({h2:\"h2\",p:\"p\",code:\"code\",pre:\"pre\",ol:\"ol\",li:\"li\"},i.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{children:\"Problem\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"In order to find all the commits relating to a specific JIRA issue as well as find the issue relating to a specific commit quickly, my team applies a common pattern for all commit message in our projects: \",(0,t.jsx)(e.code,{children:\"[ISSUE] MESSAGE\"})]}),`\n`,(0,t.jsxs)(e.p,{children:[\"For example, \",(0,t.jsx)(e.code,{children:'git commit -m \"[ISSUE-123] Fix something\"'})]}),`\n`,(0,t.jsx)(e.p,{children:\"After a while using this convention, I think it\\u2019s a bit inconvenient and silly for us to remember and type the same issue id whenever we commit a change to the code base.\"}),`\n`,(0,t.jsx)(e.p,{children:\"So my expectation is: After I commit a change, Git will trigger a hook that automatically prepends my message with the related issue id.\"}),`\n`,(0,t.jsx)(e.p,{children:\"Thankfully, I figured out we can easily achieve this with a Git hook.\"}),`\n`,(0,t.jsx)(e.h2,{children:\"Quick start\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"From the current project, switch to a new branch (e.g. \",(0,t.jsx)(e.code,{children:\"feature/demo\"}),\") and create a file named \",(0,t.jsx)(e.code,{children:\"prepare-commit-msg\"}),\" under \",(0,t.jsx)(e.code,{children:\"\u003cproject\u003e/.git/hooks\"}),\" with following content\"]}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:`# project/.git/hooks/prepare-commit-msg:\n\n#!/bin/bash\n[[ ! -f .git/jira ]] \u0026\u0026 touch .git/jira\nBRANCH=$(git rev-parse --abbrev-ref HEAD)\nISSUE=$(cat .git/jira | grep -E \"^$BRANCH \" | awk '{print $2}')\n[[ \"$ISSUE\" != \"\" ]] \u0026\u0026 sed -i.bak -e \"1s/^/[$ISSUE] /\" $1 || true\n`})}),`\n`,(0,t.jsx)(e.p,{children:\"Make it executable\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:`chmod +x .git/hooks/prepare-commit-msg\n`})}),`\n`,(0,t.jsxs)(e.p,{children:[\"Now, when we commit a change, e.g. \",(0,t.jsx)(e.code,{children:'git commit -m \"Fix something\"'}),\", the above script will be triggered and do the following steps:\"]}),`\n`,(0,t.jsxs)(e.ol,{children:[`\n`,(0,t.jsxs)(e.li,{children:[\"Get the name of the current branch: \",(0,t.jsx)(e.code,{children:\"feature/demo\"})]}),`\n`,(0,t.jsxs)(e.li,{children:[\"Derive the issue id from the branch name: e.g. \",(0,t.jsx)(e.code,{children:\"ISSUE-123\"})]}),`\n`,(0,t.jsxs)(e.li,{children:[\"Prepend the commit message with the issue id: =\u003e \",(0,t.jsx)(e.code,{children:\"[ISSUE-123] Fix something\"})]}),`\n`]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Create \",(0,t.jsx)(e.code,{children:\".git/jira\"}),\" file to store issue ids along with corresponding branches\"]}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:`touch .git/jira\n`})}),`\n`,(0,t.jsx)(e.p,{children:\"Now we can test the hook.\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:`echo \"feature/demo ISSUE-123\" \u003e .git/jira\ngit commit -m \"Test\" --allow-empty\n# the message is now prepended with the issue id\n# [ISSUE-123] Test\n`})}),`\n`,(0,t.jsx)(e.h2,{children:\"Globalize the hook\"}),`\n`,(0,t.jsx)(e.p,{children:\"If you have many projects and you don\\u2019t want to create prepare-commit-msg file over and over again for each project, you can make it become a global hook. [Matt Venables](Matt Venables) wrote a great post about this. Please check it out at https://coderwall.com/p/jp7d5q/create-a-global-git-commit-hook\"}),`\n`,(0,t.jsx)(e.h2,{children:\"Alias mapping steps\"}),`\n`,(0,t.jsxs)(e.p,{children:[\"As you can see even the hook becomes global, we still have to do the last step manually to map the issue id to the working branch. We can improve this by wrapping all the steps inside a single function and alias it so that we just need to call something like \",(0,t.jsx)(e.code,{children:\"jira ISSUE-123\"}),\" to set up everything.\"]}),`\n`,(0,t.jsxs)(e.p,{children:[\"Open \",(0,t.jsx)(e.code,{children:\"~/.bashrc\"}),\" file and add the following code:\"]}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:`map_jira_id () {\n  [ ! -d .git ] \u0026\u0026 return 1\n  [ ! -f .git/jira ] \u0026\u0026 touch .git/jira\n  BRANCH=$(git rev-parse --abbrev-ref HEAD)\n  MATCH=$(echo \"$BRANCH\" | sed 's/\\\\//\\\\\\\\\\\\//g')\n  ISSUES=$(sed \"/^$MATCH /d\" .git/jira)\n  ISSUES=\"$BRANCH $1\\\\n$ISSUES\"\n  echo \"$ISSUES\" \u003e .git/jira\n}\nalias jira=\"map_jira_id\"\n`})}),`\n`,(0,t.jsxs)(e.p,{children:[\"Save it and source \",(0,t.jsx)(e.code,{children:\"~/.bashrc\"}),\" to apply the change\"]}),`\n`,(0,t.jsx)(e.h2,{children:\"Test\"}),`\n`,(0,t.jsx)(e.p,{children:\"Now that we have created a global hook and a function alias. It\\u2019s time to test on another project.\"}),`\n`,(0,t.jsx)(e.p,{children:\"From the project folder, populate hook templates (according to Matt\\u2019s post)\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:`git init\n`})}),`\n`,(0,t.jsx)(e.p,{children:\"Test if the hook work properly\"}),`\n`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:`/project2(master)$ git checkout feature/foo\n/project2(feature/foo)$ jira ABC-123\n/project2(feature/foo)$ git commit -m \"Test\" --allow-empty\n# [ABC-123] Test\n/project2(feature/foo)$ git checkout feature/bar\n/project2(feature/bar)$ jira ABC-456\n/project2(feature/bar)$ git commit -m \"Test\" --allow-empty\n# [ABC-456] Test\n`})}),`\n`,(0,t.jsx)(e.p,{children:\"Hope this helps!\"})]})}function k(i={}){let{wrapper:e}=i.components||{};return e?(0,t.jsx)(e,Object.assign({},i,{children:(0,t.jsx)(s,i)})):s(i)}var y=k;return S(I);})();\n;return Component;","toc":[],"frontMatter":{"readingTime":{"text":"4 min read","minutes":3.025,"time":181500,"words":605},"slug":"git-hook-auto-prefix","fileName":"2019-03-09-git-hook-auto-prefix.md","title":"Automatically prefix commit message with Git hook","authors":["cat"],"date":"2019-03-09T00:00:00.000Z","tags":["engineering","git"],"summary":"In order to find all the commits relating to a specific JIRA issue as well as find the issue relating to a specific commit quickly, my team applies a common pattern for all commit message in our projects: `[ISSUE] MESSAGE`"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.17,"time":10200,"words":34},"slug":["cat"],"fileName":"cat.md","name":"Cat Vu","avatar":"/static/fossil.png","occupation":"Backend Engineer","company":"Fossil Vietnam","email":".","twitter":"https://twitter.com/","linkedin":"https://www.linkedin.com/in/","github":"https://github.com/","date":null}],"prev":null,"next":{"title":"Giảm kích thước Docker image cho ứng dụng Ruby on Rails","date":"2020-01-04T00:00:00.000Z","authors":["loi"],"tags":["engineering"],"summary":"Việc giảm dung lượng Docker image tuân theo nguyên tắc cơ bản nhất chính là loại bỏ các thành phần không cần thiết trong Docker image","slug":"docker-size"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["git-hook-auto-prefix"]},"buildId":"JU1Se-k0URfza3KMMD2ug","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>